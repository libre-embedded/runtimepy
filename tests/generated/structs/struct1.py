"""
Generated by ifgen (4.4.4).
"""

# third-party
from runtimepy.codec.protocol import Protocol, ProtocolFactory
from runtimepy.primitives.byte_order import STD_ENDIAN, enum_registry

# internal
from ..enums.enum1 import Enum1
from ..enums.enum2 import Enum2


class Struct1(ProtocolFactory):
    """No description."""

    protocol = Protocol(
        enum_registry(Enum1, Enum2),
        identifier=1,
        identifier_primitive="uint8",
        byte_order=STD_ENDIAN["little"],
    )

    @classmethod
    def initialize(cls, protocol: Protocol) -> None:
        """Initialize this protocol."""

        with protocol.add_bit_fields("field1", kind="uint8") as fields:
            fields.flag("b0", index=0)
            fields.flag("b1", index=1)
            fields.flag("b2", index=2)
            fields.flag("b3", index=3)
            fields.flag("b4", index=4)
            fields.flag("b5", index=5)
            fields.flag("b6", index=6)
            fields.flag("b7", index=7)
        protocol.add_field(
            "field2",
            enum="Enum1",
        )
        protocol.add_field(
            "field3",
            enum="Enum2",
        )
        protocol.add_field(
            "field4",
            kind="int16",
        )
